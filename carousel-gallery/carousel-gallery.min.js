"use strict";function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var l=t[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var CarouselGallery=function(){function e(t){return _classCallCheck(this,e),this.$outerWrapper=document.querySelector(t.outerWrapperSelector),this.$outerWrapper?(this.$innerWrapper=this.$outerWrapper.querySelector(t.innerWrapperSelector),this.$outerWrapper?(this.$items=_toConsumableArray(this.$outerWrapper.querySelectorAll(t.itemSelector)),this.$items.length?(this.$bullets=_toConsumableArray(this.$outerWrapper.querySelectorAll(t.bulletSelector)),this.selectedBulletClass=t.selectedBulletClass||"selected-bullet",this.bulletClass=t.bulletSelector||".carousel-bullet",this.animationDuration=void 0===t.animationDuration?.5:t.animationDuration,this.bindEvents=this.bindEvents.bind(this),this.shiftCarousel=this.shiftCarousel.bind(this),this.calculateSizes=this.calculateSizes.bind(this),this.calculateSizes(),void this.bindEvents()):(console.warn("The provided query selector ".concat(t.itemSelector," did not match any element on the document. Aborting carousel gallery function.")),!1)):(console.warn("The provided query selector ".concat(t.innerWrapperSelector," did not match any element on the document. Aborting carousel gallery function.")),!1)):(console.warn("The provided query selector ".concat(t.outerWrapperSelector," did not match any element on the document. Aborting carousel gallery function.")),!1)}return _createClass(e,[{key:"bindEvents",value:function(){var e=this;this.$bullets.forEach(function(t){return t.addEventListener("click",e.shiftCarousel)}),window.addEventListener("resize",this.calculateSizes)}},{key:"shiftCarousel",value:function(e){var t=this,s=this.$bullets.indexOf(e.target);this.$bullets.forEach(function(e){return e.classList.remove(t.selectedBulletClass)}),e.target.classList.add(this.selectedBulletClass),TweenMax.to(this.$innerWrapper,this.animationDuration,{x:"-".concat((this.$items[0].offsetWidth+2*this.$items[0].offsetLeft)*s)})}},{key:"calculateSizes",value:function(){this.itemWidthMargin=this.$items[0].offsetWidth+2*this.$items[0].offsetLeft,this.shiftSpace=this.$items.length*this.itemWidthMargin-this.$outerWrapper.offsetWidth,this.bulletsNeeded=Math.round(this.shiftSpace/this.itemWidthMargin),this.addBullets(!0)}},{key:"addBullets",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0;t<this.bulletsNeeded;t++)if(this.$bullets.length<=this.bulletsNeeded){var s=document.createElement("span");s.classList.add(this.bulletClass.substr(1,this.bulletClass.length)),e&&s.addEventListener("click",this.shiftCarousel),this.$bullets[0].parentElement.appendChild(s),this.$bullets.push(s)}else if(this.$bullets.length>this.bulletsNeeded+1){var l=this.$bullets.pop();this.$bullets[0].parentElement.removeChild(l),l.classList.contains(this.selectedBulletClass)&&(this.$bullets[this.$bullets.length-1].classList.add(this.selectedBulletClass),this.shiftCarousel({target:this.$bullets[this.$bullets.length-1]}))}}}]),e}();window.addEventListener("load",function(){new CarouselGallery({outerWrapperSelector:".carousel-list-outer",innerWrapperSelector:".carousel-list",itemSelector:".carousel-item",bulletSelector:".carousel-bullet",selectedBulletClass:"selected-bullet",animationDuration:.5})});